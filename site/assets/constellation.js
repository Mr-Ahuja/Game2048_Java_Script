(() => { const c=document.getElementById('constellation'); if(!c) return; const x=c.getContext('2d'); let p=Math.max(1,Math.min(2,window.devicePixelRatio||1)),w,h,a=[],m,d; function s(){ w=Math.max(1,Math.floor(window.innerWidth)); h=Math.max(1,Math.floor(window.innerHeight)); p=Math.max(1,Math.min(2,window.devicePixelRatio||1)); c.width=Math.floor(w*p); c.height=Math.floor(h*p); x.setTransform(p,0,0,p,0,0); const A=w*h; d=Math.max(60,Math.min(160,Math.floor(A/14000))); m=Math.max(80,Math.min(180,Math.sqrt(A)/6)); i(); } function i(){ a=Array.from({length:d},()=>({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-.5)*.4,vy:(Math.random()-.5)*.4,r:Math.random()*1.2+.4})) } function t(){ x.clearRect(0,0,w,h); for(let e=0;e<a.length;e++){const n=a[e]; n.x+=n.vx; n.y+=n.vy; if(n.x<0||n.x>w) n.vx*=-1; if(n.y<0||n.y>h) n.vy*=-1; x.globalAlpha=.85; x.fillStyle='#e6eef8'; x.beginPath(); x.arc(n.x,n.y,n.r,0,Math.PI*2); x.fill(); for(let j=e+1;j<a.length&&j<e+35;j++){const q=a[j],dx=n.x-q.x,dy=n.y-q.y,dd=dx*dx+dy*dy; if(dd<m*m){ const A=1-(Math.sqrt(dd)/m); x.globalAlpha=Math.min(.6,A*.8); const line=getComputedStyle(document.documentElement).getPropertyValue('--line')||'#1f2a3833'; x.strokeStyle=line.trim(); x.beginPath(); x.moveTo(n.x,n.y); x.lineTo(q.x,q.y); x.stroke(); } } } x.globalAlpha=1; requestAnimationFrame(t);} s(); t(); window.addEventListener('resize',s); window.addEventListener('orientationchange',s); })();

